(function(e){function t(t){for(var a,o,l=t[0],c=t[1],r=t[2],d=0,p=[];d<l.length;d++)o=l[d],n[o]&&p.push(n[o][0]),n[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(p.length)p.shift()();return i.push.apply(i,r||[]),s()}function s(){for(var e,t=0;t<i.length;t++){for(var s=i[t],a=!0,l=1;l<s.length;l++){var c=s[l];0!==n[c]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=s[0]))}return e}var a={},n={app:0},i=[];function o(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=a,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(s,a,function(t){return e[t]}.bind(null,a));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var r=0;r<l.length;r++)t(l[r]);var u=c;i.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"034f":function(e,t,s){"use strict";var a=s("64a9"),n=s.n(a);n.a},"14a3":function(e,t,s){"use strict";var a=s("b9fe"),n=s.n(a);n.a},"1c6f":function(e,t,s){"use strict";var a=s("b866"),n=s.n(a);n.a},"231b":function(e,t,s){},"38d5":function(e,t,s){},"398b":function(e,t,s){"use strict";var a=s("71ca"),n=s.n(a);n.a},"3c23":function(e,t,s){},"45d0":function(e,t,s){"use strict";var a=s("c770"),n=s.n(a);n.a},"56d7":function(e,t,s){"use strict";s.r(t);var a=s("2b0e"),n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{attrs:{id:"search-tool"}},[s("div",{attrs:{id:"search-tool-contents"}},[s("div",{attrs:{id:"app"}},[s("EnvironmentsBox",{on:{updateEnv:e.updateEnv}}),s("SubcategoriesBox",{attrs:{subcategories:e.layers},on:{updateSubCat:e.updateSubCat}}),s("SpeciesBox",{on:{updateSpecies:e.updateSpecies,updatePrediction:e.updatePrediction,updateObservation:e.updateObservation,updateNameConvention:e.updateNameConvention}}),s("ExtraControls",{attrs:{env:e.env,observation:e.observation,overlays:e.overlays,prediction:e.prediction,species:e.species,subcat:e.subcat,naming:e.naming},on:{updateOverlays:e.updateOverlays,"update:env":function(t){e.env=t},"update:observation":function(t){e.observation=t},"update:overlays":function(t){e.overlays=t},"update:prediction":function(t){e.prediction=t},"update:species":function(t){e.species=t},"update:subcat":function(t){e.subcat=t},"update:naming":function(t){e.naming=t}}})],1)])]),s("SpeciesDensity")],1)},i=[],o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{id:"color-legend"}},[e._m(0),e._m(1),e._m(2)])},l=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"legend-banner"}},[s("div",{attrs:{id:"legend-banner-left"}},[e._v("SPECIES DENSITY")]),s("div",{attrs:{id:"legend-banner-right"}},[e._v("MODEL CONFIDENCE")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ol",{attrs:{id:"legend-species"}},[s("li",{attrs:{id:"legend-species-blue"}},[s("div",{attrs:{id:"legend-blue-controls"}},[s("label",{staticClass:"hidden-label",attrs:{for:"toggle-species-three"}},[e._v("Toggle Species Visibility")]),s("input",{attrs:{id:"toggle-species-three",type:"checkbox",onkeypress:"toggleSpecies(0);",onclick:"toggleSpecies(0);",checked:"",tooltip:"Use this to toggle the visibility of this species"}})]),s("div",{attrs:{id:"legend-blue-contents",tooltip:"Percentages correspond to the predicted likelihood of the species living in an area"}},[s("div",{attrs:{id:"legend-blue-contents-name"}},[e._v("Species 1")]),s("div",{attrs:{id:"legend-blue-contents-colormap"}},[s("div",{attrs:{id:"legend-blue-100"}},[e._v("100-75%")]),s("div",{attrs:{id:"legend-blue-75"}},[e._v("75-50%")]),s("div",{attrs:{id:"legend-blue-50"}},[e._v("50-25%")])])]),s("div",{attrs:{id:"legend-blue-quality",tooltip:"Model confidence represents how correct the shown prediction layer is believed to be"}})])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"legend-blend",tooltip:"When on, predicted data layers are shown at 50% opacity to show areas of overlap. When off, predicted layers are shown at 100% opacity"}},[s("div",{attrs:{id:"legend-blend-text"}},[e._v("COLOR BLEND:")]),s("div",{attrs:{id:"legend-blend-switch"}},[s("div",{staticClass:"legend-blend-switch-sides"},[s("div",{attrs:{onkeypress:"toggleBlending();",onclick:"toggleBlending();"}},[e._v("ON")])]),s("div",{staticClass:"legend-blend-switch-sides"},[s("div",{attrs:{onkeypress:"toggleBlending();",onclick:"toggleBlending();"}},[e._v("OFF")])]),s("div",{attrs:{id:"legend-blend-switch-button"}},[s("div",{attrs:{onkeypress:"toggleBlending();",onclick:"toggleBlending();"}},[s("span",[e._v("...")])])])])])}],c={name:"SpeciesDensity",data:function(){return{show:!1}},mounted:function(){var e=this;this.$root.$on("speciesChanged",function(t,s){e.show=t,t&&(document.getElementById("toggle-species-three").checked=!0,findAUC(2,s))})}},r=c,u=(s("5f4b"),s("2877")),d=Object(u["a"])(r,o,l,!1,null,null,null),p=d.exports,m=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"box",staticStyle:{border:"none"},attrs:{"data-intro":"Pick an environmental attribute to view it on the map. The attribute may have additional subtypes or ranges.","data-position":"bottom"}},[s("div",{staticClass:"label",staticStyle:{width:"500px"}},[e._v("1. Select an environmental attribute and view its subtype or range")]),s("multiselect",{attrs:{options:e.layersArray,placeholder:"Select an attribute",label:"label","track-by":"label",showLabels:!1,showPointer:!1},on:{input:e.layerChanged},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),s("InfoBox")],1)},h=[],g=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"label environment-info"},[e._v("\n        "+e._s(e._f("firstSentence")(e.mutableInfo))+" \n    ")]),e.subcatExists1||e.subcatExists2?s("span",{staticStyle:{display:"block"}},[s("transition",{attrs:{name:"info-slide"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.categoricalOpen,expression:"categoricalOpen"}],staticClass:"info-box"},[s("transition",{attrs:{name:"info-box-subcat-1"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.subcatExists1,expression:"subcatExists1"}],class:{"info-box-subcat-title-1":!0,"info-box-subcat-title-1-inactive":!e.subcatActive1},on:{click:function(t){e.subcatActive1=!0,e.subcatActive2=!1}}},[e._v(e._s(e.subcatName1))])]),s("transition",{attrs:{name:"info-box-subcat-2"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.subcatExists2,expression:"subcatExists2"}],class:{"info-box-subcat-title-2":!0,"info-box-subcat-title-2-inactive":!e.subcatActive2},on:{click:function(t){e.subcatActive1=!1,e.subcatActive2=!0}}},[e._v(e._s(e.subcatName2))])]),s("div",{staticClass:"info-box-image environment-image"},[""!==e.subcatImg1&&e.subcatActive1?s("img",{attrs:{src:"env_layer_images/thumb/"+e.subcatImg1},on:{click:function(t){e.largeImageSource="env_layer_images/full/"+e.subcatImg1,e.showLargeImage=!0}}}):""!==e.subcatImg2&&e.subcatActive2?s("img",{attrs:{src:"env_layer_images/thumb/"+e.subcatImg2},on:{click:function(t){e.largeImageSource="env_layer_images/full/"+e.subcatImg2,e.showLargeImage=!0}}}):e._e(),""!==e.subcatImg1&&e.subcatActive1?s("i",{staticClass:"fa fa-search-plus species-info-box-image-magnifier",attrs:{"aria-hidden":"true"},on:{click:function(t){e.largeImageSource="env_layer_images/full/"+e.subcatImg1,e.showLargeImage=!0}}}):e._e(),""!==e.subcatImg2&&e.subcatActive2?s("i",{staticClass:"fa fa-search-plus species-info-box-image-magnifier",attrs:{"aria-hidden":"true"},on:{click:function(t){e.largeImageSource="env_layer_images/full/"+e.subcatImg2,e.showLargeImage=!0}}}):e._e()]),""!==e.subcatInfo1&&e.subcatActive1?s("div",{staticClass:"info-box-info"},[e._v(e._s(e.subcatInfo1))]):""!==e.subcatInfo2&&e.subcatActive2?s("div",{staticClass:"info-box-info"},[e._v(e._s(e.subcatInfo2))]):e._e()],1)]),s("div",{staticClass:"info-toggle",staticStyle:{"margin-left":"200px","margin-top":"-2px"},on:{click:function(t){e.categoricalOpen=!e.categoricalOpen}}},[s("div",{staticClass:"triangle",class:{"triangle-closed":!e.categoricalOpen,"triangle-open":e.categoricalOpen}})])],1):"continuous"==e.type?s("span",{staticStyle:{display:"block"}},[s("transition",{attrs:{name:"info-slide"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.continousOpen,expression:"continousOpen"}],staticClass:"info-box"},[s("div",{staticClass:"info-box-cont-title"},[e._v(e._s(e.name))]),s("div",{staticClass:"info-box-image environment-image"},[s("img",{attrs:{src:"env_layer_images/thumb/"+e.layerImg},on:{click:function(t){e.largeImageSource="env_layer_images/full/"+e.layerImg,e.showLargeImage=!0}}}),s("i",{staticClass:"fa fa-search-plus species-info-box-image-magnifier",attrs:{"aria-hidden":"true"},on:{click:function(t){e.largeImageSource="env_layer_images/full/"+e.layerImg,e.showLargeImage=!0}}})]),s("div",{staticClass:"info-box-info"},[e._v(e._s(e._f("restOfSentence")(e.mutableInfo)))])])]),s("div",{staticClass:"info-toggle",staticStyle:{"margin-left":"200px","margin-top":"-2px"},on:{click:function(t){e.continousOpen=!e.continousOpen}}},[s("div",{staticClass:"triangle",class:{"triangle-closed":!e.continousOpen,"triangle-open":e.continousOpen}})])],1):e._e(),s("LargeImage",{attrs:{url:e.largeImageSource,show:e.showLargeImage},on:{"update:url":function(t){e.largeImageSource=t},"update:show":function(t){e.showLargeImage=t},toggleImage:function(t){e.showLargeImage=!1}}})],1)},f=[],v=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"large-image-box",class:{"large-image-closed":!e.showLargeImage,"large-image-open":e.showLargeImage}},[s("span",{staticClass:"close",on:{click:e.toggleImage}},[e._v("×")]),s("img",{staticClass:"large-image",attrs:{src:e.mutableUrl}})])},b=[],y={name:"LargeImage",props:{url:{default:"",type:String},show:{default:!1,type:Boolean}},data:function(){return{mutableUrl:"",showLargeImage:!1}},methods:{toggleImage:function(){this.showLargeImage=!1,this.$emit("toggleImage")}},watch:{url:function(){this.mutableUrl=this.url},show:function(){this.showLargeImage=this.show}}},_=y,S=(s("45d0"),Object(u["a"])(_,v,b,!1,null,null,null)),x=S.exports,I={name:"InfoBox",components:{LargeImage:x},props:{info:{default:"",type:String}},filters:{firstSentence:function(e){var t=e.indexOf(".");return-1!=t?e.substring(0,t+1).trim():e},restOfSentence:function(e){var t=e.indexOf(".");return-1!=t?e.substring(t+1).trim():e}},data:function(){return{categoricalOpen:!1,continousOpen:!1,mutableInfo:this.info,name:"",subcatName1:"",subcatName2:"",subcatImg1:"",subcatImg2:"",subcatInfo1:"",subcatInfo2:"",subcatActive1:!1,subcatActive2:!1,subcatExists1:!1,subcatExists2:!1,selected:"",type:null,largeImageSource:"",showLargeImage:!1,layerImg:""}},mounted:function(){var e=this;this.$root.$on("layerChanged",function(t){("removeLayer"!=t&&t.name===e.name||(e.toggleActive(!1,!1),e.subcatExists1=!1,e.subcatExists2=!1,e.selected=null,e.type=null,e.mutableInfo="","removeLayer"!=t))&&(e.layer=t,e.type=t.type,e.name=t.name,e.mutableInfo=t.info,e.layerImg=t.img,console.log(t))}),this.$root.$on("subcatChanged",function(t,s){var a=t;if(1==s){if("null"==a)return a="",e.subcatExists1=!1,void e.toggleActive(!1,!0);if(e.toggleActive(!0,!1),e.subcatName1=a,"undefined"!==typeof e.layer){var n=e.layer.subcategories;for(var i in n)if(t==n[i].name){e.subcatImg1=n[i].img,e.subcatInfo1=n[i].info,e.subcatExists1=!0;break}}}if(2==s){if("null"==a)return a="",e.subcatExists2=!1,void e.toggleActive(!0,!1);if(e.toggleActive(!1,!0),e.subcatName2=a,"undefined"!==typeof e.layer){var o=e.layer.subcategories;for(var l in o)if(t==o[l].name){e.subcatImg2=o[l].img,e.subcatInfo2=o[l].info,e.subcatExists2=!0;break}}}})},methods:{toggleActive:function(e,t){this.subcatActive1=e,this.subcatActive2=t}},watch:{info:function(){this.mutableInfo=this.info}}},C=I,w=(s("398b"),Object(u["a"])(C,g,f,!1,null,null,null)),k=w.exports,O={name:"EnvironmentsBox",components:{InfoBox:k},data:function(){return{layersArray:[],layersObject:{},selected:""}},methods:{layerChanged:function(){if(this.$root.$emit("speciesChanged",!1),null==this.selected||"Clear Selection"==this.selected.label)return this.selected=null,this.$root.$emit("layerChanged","removeLayer",null),void this.$emit("updateEnv","");var e;for(var t in this.layersArray)if(this.layersArray[t].name==this.selected.name){e=t;break}for(var s in this.layersObject)if(this.layersArray[e].name==this.layersObject[s].name){this.$root.$emit("layerChanged",this.layersArray[e],s),this.$emit("updateEnv",this.layersArray[e].name);break}},loadSettings:function(e){if(null!==e.env)for(var t=0;t<this.layersArray.length;t++)if(this.layersArray[t].name==e.env){this.selected=this.layersArray[t],this.layerChanged();break}},loadData:function(e){for(var t in this.layersArray=Object.values(e),this.layersObject=e,this.layersArray){var s=this.layersArray[t];s.hasOwnProperty("remove")&&"true"==s.remove?delete this.layersArray[t]:((s.subcategories.length>0||"continuous"==s.type)&&(this.layersArray[t].label=s.name),0==s.subcategories.length&&"categorical"==s.type&&(this.layersArray[t].label="-"+s.name))}this.layersArray.unshift({label:"Clear Selection"})}},mounted:function(){var e=this;axios.get("data.json").then(function(t){e.loadData(t.data)}).catch(function(e){console.log(e)}),this.$parent.$on("settingsLoaded",this.loadSettings)}},N=O,E=(s("14a3"),Object(u["a"])(N,m,h,!1,null,null,null)),$=E.exports,A=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"subcat-slide box"},[e._v("\n             \n            "),"continuous"!==e.mutableType?s("multiselect",{staticClass:"subcat1",class:{"subcat-selected":""!==e.selected1&&null!==e.selected1},attrs:{options:e.mutableSubcategories,"close-on-select":!0,placeholder:"Select a subtype",label:"fullname","track-by":"fullname","show-labels":!1,showPointer:!1,disabled:!e.populated},model:{value:e.selected1,callback:function(t){e.selected1=t},expression:"selected1"}}):e._e(),"continuous"!==e.mutableType?s("multiselect",{staticClass:"subcat2",class:{"subcat-selected":""!==e.selected2&&null!==e.selected2},attrs:{options:e.mutableSubcategories,"close-on-select":!0,placeholder:"Select another subtype",label:"fullname","track-by":"fullname","show-labels":!1,showPointer:!1,disabled:!e.populated},model:{value:e.selected2,callback:function(t){e.selected2=t},expression:"selected2"}}):e._e(),"continuous"==e.mutableType?s("span",[s("div",{attrs:{id:"continuous-spectrum"}},[s("div",{staticClass:"label continuous-block",staticStyle:{"background-color":"rgb(231, 115, 163)","border-radius":"3px 3px 0 0"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.range1,expression:"range1"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.range1)?e._i(e.range1,null)>-1:e.range1},on:{change:function(t){var s=e.range1,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=null,o=e._i(s,i);a.checked?o<0&&(e.range1=s.concat([i])):o>-1&&(e.range1=s.slice(0,o).concat(s.slice(o+1)))}else e.range1=n}}}),e._v(e._s(e.mutableRanges[0])+"\n                    ")]),s("div",{staticClass:"label continuous-block",staticStyle:{"background-color":"rgb(180, 51, 139)","border-radius":"0"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.range2,expression:"range2"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.range2)?e._i(e.range2,null)>-1:e.range2},on:{change:function(t){var s=e.range2,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=null,o=e._i(s,i);a.checked?o<0&&(e.range2=s.concat([i])):o>-1&&(e.range2=s.slice(0,o).concat(s.slice(o+1)))}else e.range2=n}}}),e._v(e._s(e.mutableRanges[1])+"\n                    ")]),s("div",{staticClass:"label continuous-block",staticStyle:{"background-color":"rgb(110, 23, 119)","border-radius":"0 0 3px 3px"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.range3,expression:"range3"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.range3)?e._i(e.range3,null)>-1:e.range3},on:{change:function(t){var s=e.range3,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=null,o=e._i(s,i);a.checked?o<0&&(e.range3=s.concat([i])):o>-1&&(e.range3=s.slice(0,o).concat(s.slice(o+1)))}else e.range3=n}}}),e._v(e._s(e.mutableRanges[2])+"\n                    ")])])]):e._e()],1)},T=[],B=s("8e5f"),P=s.n(B),j={name:"SubcategoriesBox",components:{InfoBox:k,Multiselect:P.a},props:["subcategories","type","ranges","firstflag"],data:function(){return{selected1:"",oldSelected1:"",selected2:"",oldSelected2:"",maps:{},populated:!1,mutableSubcategories:this.subcategories,mutableType:this.type,mutableRanges:this.ranges,range1:null,range2:null,range3:null}},methods:{findSubcatIndex:function(e){for(var t in this.mutableSubcategories)if(this.mutableSubcategories[t].fullname==e)return this.mutableSubcategories[t];return-1},subcatChange:function(e,t){var s=["2","1"],a=document.querySelectorAll(".subcat"+s[t-1]+"> .multiselect__content-wrapper > .multiselect__content > .multiselect__element > .multiselect__option > span");if(null!==e.fullname&&"Clear Selection"!==e.fullname){e=e.fullname;for(var n=0;n<a.length;n++)e==a[n].innerText.trim()?(a[n].style.opacity="0.5",a[n].parentNode.parentNode.style.pointerEvents="none"):(a[n].style.opacity="1",a[n].parentNode.parentNode.style.pointerEvents="auto")}else for(var i=0;i<a.length;i++)a[i].style.opacity="1",a[i].parentNode.parentNode.style.pointerEvents="auto";null==e&&(e={fullname:"null"}),this.$root.$emit("subcatChanged",e,t);var o=null==this.selected1?"":this.selected1.fullname,l=null==this.selected2?"":this.selected2.fullname;this.$emit("updateSubCat",[o,l])},subcatChanged1:function(e){var t,s,a=!1;null!==e&&"Clear Selection"==e.fullname&&(a=!0,e=null),this.subcatChange(e,1),""!==this.oldSelected1&&(t=this.findSubcatIndex(this.oldSelected1.fullname).index,s=this.selected_layer_name+"_"+t+"_1",this.updateLayer(s,!1));var n=null==e?this.oldSelected1.fullname:this.selected1.fullname;t=this.findSubcatIndex(n).index,s=this.selected_layer_name+"_"+t+"_1";var i=null!=e;void 0!==t&&this.updateLayer(s,i),null!==e&&(this.oldSelected1=this.selected1),a&&(this.selected1="")},subcatChanged2:function(e){var t,s,a=!1;null!==e&&"Clear Selection"==e.fullname&&(a=!0,e=null),this.subcatChange(e,2),""!==this.oldSelected2&&(t=this.findSubcatIndex(this.oldSelected2.fullname).index,s=this.selected_layer_name+"_"+t+"_2",this.updateLayer(s,!1));var n=null==e?this.oldSelected2.fullname:this.selected2.fullname;t=this.findSubcatIndex(n).index,s=this.selected_layer_name+"_"+t+"_2";var i=null!=e;void 0!==t&&this.updateLayer(s,i),null!==e&&(this.oldSelected2=this.selected2),a&&(this.selected2="")},updateLayer:function(e,t){if(t){var s=L.npmap.layer.mapbox({name:e,opacity:.5,id:"nps.GRSM_"+e});this.maps[e]=s.addTo(NPMap.config.L)}else NPMap.config.L.removeLayer(this.maps[e])},loadSettings:function(e){if(null!==e.subcat)for(var t=0;t<this.mutableSubcategories.length;t++){var s=this.mutableSubcategories[t];s.fullname==e.subcat[0]&&(this.selected1=s),s.fullname==e.subcat[1]&&(this.selected2=s)}}},watch:{range1:function(e){null!=e&&this.updateLayer(this.selected_layer_name+"_0",e)},range2:function(e){null!=e&&this.updateLayer(this.selected_layer_name+"_1",e)},range3:function(e){null!=e&&this.updateLayer(this.selected_layer_name+"_2",e)},subcategories:function(){this.mutableSubcategories=this.subcategories},type:function(){this.mutableType=this.type},range:function(){this.mutableRanges=this.ranges},selected1:function(e){var t=this;setTimeout(function(){return t.subcatChanged1(e)},25)},selected2:function(e){var t=this;setTimeout(function(){return t.subcatChanged2(e)},25)}},mounted:function(){var e=this;this.$root.$on("layerChanged",function(t,s){if("removeLayer"==t&&(e.populated=!1),e.selected1=null,e.selected2=null,e.oldSelected1="",e.oldSelected2="","removeLayer"!=t){for(var a in e.selected_layer_name=s,"categorical"==t.type?(e.mutableSubcategories=t.subcategories.map(function(e,t){return{name:e.name.substring(0,30)+"...",fullname:e.name,index:t,remove:"remove"in e?e.remove:"false"}}),e.mutableSubcategories=e.mutableSubcategories.filter(function(e){return"true"!=e.remove}),e.mutableSubcategories.unshift({fullname:"Clear Selection"})):e.mutableRanges=t.ranges,e.mutableType=t.type,e.maps)NPMap.config.L.removeLayer(e.maps[a]),e.range1=e.range2=e.range3=null;e.populated=!0}}),this.$parent.$on("settingsLoaded",this.loadSettings)}},M=j,R=(s("1c6f"),Object(u["a"])(M,A,T,!1,null,null,null)),D=R.exports,U=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"species-slide box",attrs:{id:"species-slide"}},[s("div",{attrs:{id:"box"}},[s("div",{staticClass:"label",attrs:{"data-intro":"Select a species to see how it is affected by the attribute.","data-position":"top"}},[e._v("2. Select species affected by "+e._s(e._f("Shorten")(e.selectedLayer)))]),s("img",{staticClass:"species-hover-thumbnail",style:{top:e.hoverImageTopOffset+50+"px",display:e.hoverImageDisplay,left:e.hoverImageLeftOffset+"px"},attrs:{src:e.hoverImage}}),s("multiselect",{staticClass:"species-multiselect",class:{"species-selected":""!==e.selected&&null!==e.selected},attrs:{disabled:e.speciesNames.length<=2,options:e.speciesNames,"close-on-select":!0,placeholder:"Select or type a species","show-labels":!1,showPointer:!1,optionsLimit:e.speciesOptionsLimit},on:{input:e.speciesChanged},scopedSlots:e._u([{key:"option",fn:function(t){return[s("div",{staticClass:"option__species",on:{mouseover:e.mouseOverSpecies,mouseout:e.mouseOutSpecies}},[e._v(e._s(t.option))])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[s("p",{attrs:{slot:"noResult"},slot:"noResult"},[e._v("No species found. Consider changing your search.")])]),e._m(0),s("div",{attrs:{id:"checkbox-container",tooltip:"Toggle the visibility of the predicted habitat"}},[s("div",{staticClass:"search-checkbox",attrs:{id:"options-predicted","data-intro":"Toggle the visibility of predicted and observed data.","data-position":"left"}},[e._v("\n            View:  \n            "),s("input",{attrs:{type:"checkbox",id:"options-predicted-checkbox",onkeypress:"togglePredicted();",onclick:"togglePredicted();",checked:"",disabled:""==e.selected||null==e.selected},on:{click:e.updatePrediction}}),s("label",{attrs:{for:"options-predicted-checkbox"}},[e._v(" Predictions")]),e._v("  \n            "),s("input",{attrs:{type:"checkbox",id:"options-observed-checkbox",onkeypress:"toggleObserved();",onclick:"toggleObserved();",disabled:""==e.selected||null==e.selected},on:{click:e.updateObservation}}),s("label",{attrs:{for:"options-observed-checkbox"}},[e._v(" Observations")])]),s("div",{staticClass:"label",attrs:{id:"search-initial-switch",tooltip:"Choose to show latin or common species names","data-intro":"Choose to show common or latin names.","data-position":"bottom"}},[e._v("\n              Name convention: \n              "),s("input",{staticClass:"search-initial-switch-sides",attrs:{type:"radio",id:"search-name-convention-common",name:"search-name-convention",onkeypress:"toggleName();",onclick:"toggleName();",checked:"",disabled:0==e.speciesNames.length},on:{click:function(t){return e.switchNameConvention(t)}}}),s("label",{attrs:{for:"search-name-convention-common"}},[e._v("Common")]),e._v(" \n              "),s("input",{staticClass:"search-initial-switch-sides",attrs:{type:"radio",id:"search-name-convention-latin",name:"search-name-convention",onkeypress:"toggleName();",onclick:"toggleName();",disabled:0==e.speciesNames.length},on:{click:function(t){return e.switchNameConvention(t)}}}),s("label",{attrs:{for:"search-name-convention-latin"}},[e._v("Latin")])])]),e._m(1)],1),e._e(),s("LargeImage",{attrs:{url:e.largeImageSource,show:e.showLargeImage},on:{"update:url":function(t){e.largeImageSource=t},"update:show":function(t){e.showLargeImage=t},toggleImage:function(t){e.showLargeImage=!1}}})],1)},q=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"progress-bar"},[s("div",{staticClass:"progress-bar-before"},[e._v("Least")]),s("div",{staticClass:"progress-bar-after"},[e._v("Most")]),s("div",{staticClass:"progress-bar-percentage",staticStyle:{width:"20%"}}),s("div",{staticClass:"progress-bar-percentage2",staticStyle:{width:"20%"}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"sortbtns"},[s("i",{staticClass:"fa fa-sort-amount-desc sortbtn",attrs:{"aria-hidden":"true"}}),s("i",{staticClass:"active fa fa-sort-alpha-asc sortbtn",attrs:{"aria-hidden":"true"}})])}],W={name:"SpeciesBox",components:{InfoBox:k,LargeImage:x},props:["species"],data:function(){return{open:!1,layers:[],selected:"",selectedNames:{},speciesNames:[],speciesImages:[],speciesTaxonomyImages:[],namingConvention:"common",mutableSpecies:this.species,hoverImage:"http://via.placeholder.com/150x150",hoverImageTopOffset:0,hoverImageLeftOffset:0,hoverImageDisplay:"none",prediction:!0,observation:!1,selectedLayer:"...",largeImageSource:"",showLargeImage:!1,speciesOptionsLimit:10,affect:"Sorted by most affected to least",clear:"Clear Selection"}},methods:{switchNameConvention:function(e){"search-name-convention-latin"==e.target.id&&"latin"==this.namingConvention||"search-name-convention-common"==e.target.id&&"common"==this.namingConvention||("common"==this.namingConvention?this.namingConvention="latin":this.namingConvention="common",this.updateNameConvention())},updateNameConvention:function(){if(this.$emit("updateNameConvention",this.namingConvention),"undefined"!=typeof this.mutableSpecies&&"undefined"!=typeof this.mutableSpecies.length){var e=document.getElementsByClassName("species-multiselect")[0].getElementsByClassName("multiselect__single")[0],t=e.innerText;this.speciesNames=[this.clear];for(var s=0;s<this.mutableSpecies.length;s++)if("Unspecified"!==this.mutableSpecies[s][2])if("common"!==this.namingConvention){var a=this.mutableSpecies[s][0].replace(/_/g," ");this.speciesNames.push(a),this.mutableSpecies[s][2]==t&&(e.innerText=this.selected=a)}else this.speciesNames.push(this.mutableSpecies[s][2]),this.mutableSpecies[s][0]==t.replace(/ /g,"_")&&(e.innerText=this.selected=this.mutableSpecies[s][2]);this.speciesNames.length>=this.speciesOptionsLimit?this.speciesNames.splice(this.speciesOptionsLimit-1,0,this.affect):this.speciesNames.push(this.affect),this.$emit("updateSpecies",this.selected)}},mouseOverSpecies:function(e){var t=e.srcElement.innerText;if(t!=this.affect&&t!=this.clear){"block"!==this.hoverImageDisplay&&(this.hoverImageDisplay="block");for(var s=0;s<this.speciesNames.length;s++)if(this.speciesNames[s]==t){"http://via.placeholder.com/150x150"==this.speciesImages[t]?this.hoverImage=this.speciesTaxonomyImages[t]:this.hoverImage=this.speciesImages[t],this.hoverImageTopOffset=20*s;break}}else this.hoverImageDisplay="none"},mouseOutSpecies:function(e){var t=document.getElementsByClassName("species-multiselect")[0];(e.pageX>=t.offsetLeft+t.offsetWidth-20||e.pageX<=t.offsetLeft+20||e.pageY<=160||e.pageY>=140+20*(this.speciesOptionsLimit-1))&&(this.hoverImageDisplay="none")},speciesChanged:function(){if(this.hoverImageDisplay="none",this.selectedImage="",null==this.selected||this.selected==this.clear)return this.selected=null,this.$root.$emit("speciesChanged",!1),this.$emit("updateSpecies",""),void selectInitialSpecies(null,!0);for(var e=this.selected,t=0;t<this.mutableSpecies.length;t++)if(e==this.mutableSpecies[t][2]||e.replace(/ /g,"_")==this.mutableSpecies[t][0]){this.selectedNames.common=this.mutableSpecies[t][2],this.selectedNames.latin=this.mutableSpecies[t][0].replace(/_/g," "),this.$root.$emit("speciesChanged",!0,this.mutableSpecies[t][0]),this.$emit("updateSpecies",e),"http://via.placeholder.com/150x150"==this.speciesImages[e]?(this.selectedImage=this.speciesTaxonomyImages[e],this.largeImageSource=this.speciesTaxonomyImages[e].slice(0,this.speciesTaxonomyImages[e].length-9)+"800px.jpg"):(this.selectedImage=this.speciesImages[e],this.largeImageSource="http://via.placeholder.com/150x150");var s={};s._id=this.mutableSpecies[t][1],s._latin=this.mutableSpecies[t][0],s._common=this.mutableSpecies[t][2],selectInitialSpecies(s);break}},updateObservation:function(e){"undefined"!==typeof e.path&&"undefined"!==typeof e.path[0].checked?this.observation=e.path[0].checked:(e&&toggleObserved(),this.observation=e),this.$emit("updateObservation",this.observation)},updatePrediction:function(e){"undefined"!==typeof e.path&&"undefined"!==typeof e.path[0].checked?this.prediction=e.path[0].checked:(e||togglePredicted(),this.prediction=e),this.$emit("updatePrediction",this.prediction)},loadSettings:function(e){null!==e.prediction&&(document.getElementById("options-predicted-checkbox").checked=e.prediction,this.updatePrediction(e.prediction)),null!==e.observation&&(document.getElementById("options-observed-checkbox").checked=e.observation,this.updateObservation(e.observation)),null!==e.naming&&(this.namingConvention=e.naming,"common"==e.naming?(document.getElementById("search-name-convention-common").checked=!0,document.getElementById("search-name-convention-latin").checked=!1):(document.getElementById("search-name-convention-common").checked=!1,document.getElementById("search-name-convention-latin").checked=!0),this.updateNameConvention()),null!==e.species&&(this.selected=e.species,this.speciesChanged())}},mounted:function(){var e=this;this.$root.$on("layerChanged",function(t){if(e.speciesNames=[e.clear],e.speciesImages=[],e.speciesTaxonomyImages=[],e.selected="",selectInitialSpecies(null,!0),"removeLayer"!=t){for(var s in e.selectedLayer=t["label"],e.mutableSpecies=t["related-species"],e.mutableSpecies){var a=e.mutableSpecies[s][2],n=e.mutableSpecies[s][0].replace(/_/g," ");"Unspecified"!==a&&("common"==e.namingConvention?e.speciesNames.push(a):e.speciesNames.push(n),e.speciesImages[a]=e.mutableSpecies[s][4],e.speciesImages[n]=e.mutableSpecies[s][4],e.speciesTaxonomyImages[a]="Taxonomy_Images/"+e.mutableSpecies[s][5]+"_110px.jpg",e.speciesTaxonomyImages[n]="Taxonomy_Images/"+e.mutableSpecies[s][5]+"_110px.jpg")}e.speciesNames.length>=e.speciesOptionsLimit?e.speciesNames.splice(e.speciesOptionsLimit-1,0,e.affect):e.speciesNames.push(e.affect)}else e.selectedLayer="..."}),this.$parent.$on("settingsLoaded",this.loadSettings)},watch:{species:function(){this.mutableSpecies=this.species},selected1:function(e){}},updated:function(){this.$nextTick(function(){this.hoverImageLeftOffset=this.$el.offsetLeft+315})},filters:{Shorten:function(e){var t=15;return e.length>t?e.substr(0,t)+"...":e}}},G=W,F=(s("a92c"),Object(u["a"])(G,U,q,!1,null,null,null)),H=F.exports,J=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"box",staticStyle:{"border-right":"none"}},[s("div",{staticClass:"bordered",attrs:{id:"search-options"}},[s("div",{attrs:{id:"search-options-left"}},[s("div",{staticStyle:{color:"#efefef"},attrs:{id:"options-label label"}},[e._v("\n              MAP CONTROLS\n            ")]),s("multiselect",{staticClass:"controls",attrs:{multiple:!0,options:e.mapOverlayOptions,"close-on-select":!1,placeholder:"Map Overlays","show-labels":!1,searchable:!1,showPointer:!1,"data-intro":"Show extra map features.","data-position":"right"},on:{select:e.selectOverlay,remove:e.selectOverlay},scopedSlots:e._u([{key:"tag",fn:function(t){return[s("span",{staticClass:"multiselect__single"},[e._v("Map Overlays")])]}}]),model:{value:e.selectedOverlayOptions,callback:function(t){e.selectedOverlayOptions=t},expression:"selectedOverlayOptions"}})],1)]),e._m(0)])},V=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"search-tool-extra-controls"}},[s("div",{staticClass:"bordered",attrs:{id:"search-banner-help-share",tooltip:"Get a shareable link"}},[s("button",{staticClass:"control-btn",attrs:{id:"search-banner-env-share-button",alt:"Get a shareable link."}},[s("i",{staticClass:"fa fa-share-square fades show"}),s("i",{staticClass:"fa fa-check-circle fades hide"})])]),s("div",{staticClass:"bordered",attrs:{id:"search-banner-help-link",tooltip:"Get help using the tool"}},[s("button",{staticClass:"control-btn",attrs:{id:"search-banner-help-link-button",onclick:"showHelp();",alt:"Show the help overlay."}},[s("i",{staticClass:"fa fa-question-circle"})])])])}],X={name:"ExtraControls",components:{},props:{msg:String,env:String,observation:Boolean,prediction:Boolean,overlays:Array,species:String,subcat:Array,naming:String},data:function(){return{a:!0,layers:[],selectedOverlayOptions:"",mapOverlayOptions:["Trails","Visitor Centers","Shelters","Roads","Campsites"],mapOverlayOptionState:[0,0,0,0,0]}},mounted:function(){this.setupShareButton(),this.$parent.$on("settingsLoaded",this.loadSettings)},methods:{selectOverlay:function(e){toggleOverlay(this.mapOverlayOptions.indexOf(e))},exportEnvSettings:function(){var e={};return e.env=this.env,e.prediction=this.prediction,e.observation=this.observation,e.naming=this.naming,e.subcat=this.subcat,e.overlays=this.overlays,e.species=this.species,blendingActive||(e.blending=!1),e.bounds=NPMap.config.L.getBounds(),e},setupShareButton:function(){var e=this,t=document.getElementById("search-banner-env-share-button");new Clipboard(t,{text:function(t){var s=e.exportEnvSettings(),a="#"+encodeURI(JSON.stringify(s));return location.href.split("#")[0]+a}}).on("success",function(){var e=document.getElementsByClassName("fa-share-square")[0],s=document.getElementsByClassName("fa-check-circle")[0],a=document.getElementById("clipboard-notice");e.classList.toggle("hide"),e.classList.toggle("show"),t.classList.toggle("hide"),t.classList.toggle("show"),setTimeout(function(){e.style.display="none",t.style.display="none",s.style.display="inline-block",s.classList.toggle("hide"),s.classList.toggle("show"),t.style.display="inline-block",t.classList.toggle("hide"),t.classList.toggle("show"),a.style.opacity=.4},310),setTimeout(function(){s.classList.toggle("hide"),s.classList.toggle("show"),t.classList.toggle("hide"),t.classList.toggle("show"),a.style.opacity=0},1310),setTimeout(function(){s.style.display="none",t.style.display="none",e.style.display="inline-block",e.classList.toggle("hide"),e.classList.toggle("show"),t.style.display="inline-block",t.classList.toggle("hide"),t.classList.toggle("show")},1620)})},loadSettings:function(e){if(null!==e.overlays){this.selectedOverlayOptions=e.overlays;for(var t=0;t<e.overlays.length;t++)this.selectOverlay(e.overlays[t])}}},watch:{selectedOverlayOptions:function(){this.$emit("updateOverlays",this.selectedOverlayOptions)}}},Y=X,z=(s("b079"),Object(u["a"])(Y,J,V,!1,null,null,null)),K=z.exports,Q={name:"app",components:{SpeciesDensity:p,EnvironmentsBox:$,SubcategoriesBox:D,SpeciesBox:H,ExtraControls:K},data:function(){return{layers:[1,2,3,4],overlays:[],env:"",subcat:[],species:"",prediction:!0,observation:!1,naming:"common"}},mounted:function(){var e,t=this,s=window.location.href;if(-1!==(e=s.search("#"))){try{var a=JSON.parse(decodeURI(s.substr(e+1)))}catch(n){return void alert("The url you entered is not valid!")}setTimeout(function(){t.loadEnvSettings(a)},2e3)}},methods:{loadEnvSettings:function(e){var t=this;if(!NPMap.config.L)return setTimeout(function(){return t.loadEnvSettings(e)},100);var s={},a="We found some things we couldn't load:\n";"undefined"!==typeof e.env?s.env=e.env:(s.env=null,a+="The environmental layer\n"),"undefined"!==typeof e.overlays?s.overlays=e.overlays:(s.overlays=null,a+="The map overlays\n"),"undefined"!==typeof e.prediction?s.prediction=e.prediction:(s.prediction=null,a+="The prediction setting\n"),"undefined"!==typeof e.observation?s.observation=e.observation:(s.observation=null,a+="The observation setting\n"),"undefined"!==typeof e.naming?s.naming=e.naming:(s.naming=null,a+="The naming convention"),!1===e.blending&&toggleBlending(),"undefined"!==typeof e.bounds?NPMap.config.L.fitBounds([e.bounds._southWest,e.bounds._northEast]):(s.bounds=null,a+="The map bounds"),"undefined"!==typeof e.subcat?s.subcat=e.subcat:(s.subcat=null,a+="The subcategory options\n"),"undefined"!==typeof e.species?s.species=e.species:(s.species=null,a+="The species selection\n"),a.length>39&&console.log(a),this.$emit("settingsLoaded",s)},updateEnv:function(e){this.env=e},updateSubCat:function(e){this.subcat=e},updateSpecies:function(e){this.species=e},updateOverlays:function(e){this.overlays=e},updatePrediction:function(e){this.prediction=e},updateObservation:function(e){this.observation=e},updateNameConvention:function(e){this.naming=e}}},Z=Q,ee=(s("034f"),Object(u["a"])(Z,n,i,!1,null,null,null)),te=ee.exports,se=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"left"},[e._m(0),s("div",{staticStyle:{"padding-left":"1px",color:"#bdbdbd","letter-spacing":"1px",display:"inline-block","font-size":"19px","font-family":"'Source Sans Pro'"}},[e._v("ATLAS OF THE SMOKIES: ")]),s("div",{staticStyle:{"margin-left":"230px","margin-top":"18px"},attrs:{id:"atlas-app-changer"}},[s("multiselect",{staticClass:"header-selector",attrs:{options:e.options,"close-on-select":!0,placeholder:"ENVIROMAPPER","show-labels":!1},on:{input:e.appSelect},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)]),e._m(1)])},ae=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a",{staticStyle:{"text-decoration":"none"},attrs:{id:"title",href:"https://www.nps.gov/grsm/learn/nature/index.htm",target:"_blank"}},[s("h1",[e._v(" Great Smoky Mountains National Park")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"right"},[s("h2",[e._v("National Park Service"),s("br"),e._v("U.S. Department of the Interior")]),s("span",{staticClass:"arrowhead"})])}],ne={name:"Header",components:{Multiselect:P.a},data:function(){return{options:["Species Mapper"],selected:""}},methods:{appSelect:function(e){"Species Mapper"==e&&(window.location="https://maps.nps.gov/species/")}}},ie=ne,oe=(s("8baf"),Object(u["a"])(ie,se,ae,!1,null,null,null)),le=oe.exports;window.axios=s("bc3a"),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",a["a"].prototype.$http=window.axios,a["a"].config.productionTip=!1,a["a"].component("multiselect",P.a),new a["a"]({render:function(e){return e(te)}}).$mount("#app"),new a["a"]({render:function(e){return e(le)}}).$mount("#header")},"5f4b":function(e,t,s){"use strict";var a=s("3c23"),n=s.n(a);n.a},"64a9":function(e,t,s){},"71ca":function(e,t,s){},"782e":function(e,t,s){},"8baf":function(e,t,s){"use strict";var a=s("782e"),n=s.n(a);n.a},a92c:function(e,t,s){"use strict";var a=s("231b"),n=s.n(a);n.a},b079:function(e,t,s){"use strict";var a=s("38d5"),n=s.n(a);n.a},b866:function(e,t,s){},b9fe:function(e,t,s){},c770:function(e,t,s){}});
//# sourceMappingURL=app.2510a9e2.js.map